---
import { type Project } from '../../types';
import { formatDate } from '../../utilities/date';

interface Props {
	projects: Project[];
}

const { projects } = Astro.props as Props;
---
<section id="projects" class="flex flex-col gap-2.5rem">
	<h2 class="flex flex-row items-center gap-1em font-serif font-500 text-2.25rem text-gray-900">
		<span class="min-w-fit">Personal Projects</span>
		<span class="w-full h-3px bg-current grow-1 rounded-full"></span>
	</h2>

	<div class="flex flex-col gap-2.5rem">
		{projects.map((project) => (
			<div class="flex flex-col gap-0.5rem">
				<h3 class="text-1.5rem font-500 text-gray-800">
					<a href={project.url} target="_blank" rel="noopener noreferrer" class="font-500 hover:underline">
						{project.name}
					</a>
				</h3>

				<p class="text-1.25rem text-gray-600 mb-0.5rem">
					{project.description}
				</p>

				<div class="flex flex-col gap-0.5rem">
					<div class="flex flex-row items-center gap-1rem text-gray-600">
						<span class="i-ri-tools-line text-1.1rem"></span>

						<ul class="flex flex-row flex-wrap gap-0.5rem">
							{project.technologies && project.technologies.map((technology) => (
								<li class="px-0.75em py-0.125em bg-gray-200 rounded-0.25em">
									{technology}
								</li>
							))}
						</ul>
					</div>

					<p class="flex flex-row items-center gap-1rem text-gray-600">
						<span class="i-ri-calendar-schedule-line"></span>
						<span>{formatDate(project.start)}{project.end ? ` - ${formatDate(project.end)}` : ' - Present'}</span>
					</p>
				</div>
			</div>
		))}
	</div>
</section>
